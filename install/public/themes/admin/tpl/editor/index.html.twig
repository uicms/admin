{% extends "admin/tpl/layout.html.twig" %}
{% set results = rows %}
{% set page_slug = page.slug %}
{% set current_entity = model.name|slugger %}
{% trans_default_domain 'admin' %}

{% block title %}{{ page_name|capitalize }} - Parcourir{% endblock %}

{% block body %}

<!-- New folder -->
{% include "admin/tpl/components/new_folder.html.twig" %}

<!-- Upload -->
{% include "admin/tpl/components/upload.html.twig" %}

<!-- Import -->
{% include "admin/tpl/components/import.html.twig" %}

<!-- Explorer section -->
<section id="explorer" class="explorer" data-offset="{{ paginator.offset }}" data-url="{{ path('admin_page_action', {slug:'action', action:'position', entity_name: page.arguments.entity_name, linked_to:params.linked_to}) }}">
    
    <!-- Linked to -->
    {% include "admin/tpl/components/linked_row.html.twig" %}
    
    <!-- Tools -->
    <div class="tools">
        {% include "admin/tpl/components/db_buttons.html.twig" %}
    </div>
    
    <!-- Tools -->
    <div class="tools">
        {% include "admin/tpl/components/quick_search.html.twig" %}
        {% include "admin/tpl/components/action.html.twig" %}
        {% include "admin/tpl/components/results_tools.html.twig" %}
    </div>
    
    <!-- Path -->
    {% include "admin/tpl/components/path.html.twig" %}
    
    <!-- Pager -->
    {% include "admin/tpl/components/pagination.html.twig" %}
    
    <!-- Results -->
    <div id="explorer_results" class="results" data-action="{{ path('admin_page', {slug:'action', entity_name:model.name, linked_to:params.linked_to, linked_to_id:params.linked_to_id}) }}">
            {% include "admin/tpl/editor/index/" ~ params.display ~ ".html.twig" %}
        </div>
    </div>
    
    <!-- Pager -->
    {% include "admin/tpl/components/pagination.html.twig" %}
</section>

{% endblock %}